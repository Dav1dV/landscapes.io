<div ng-include="'partials/navbar.html'"></div>

<div id="titleRow" class="row">
    <div class="col-md-12">
        <h2>Log In</h2>
        <hr>
    </div>
</div>

<!--<p>Accounts are reset on server restart from <code>sample-data.js</code>. Default account is <code>admin@admin.com</code> / <code>admin</code></p>-->

<div class="row">
    <div class="col-sm-12">
        <form class="form" name="form" ng-submit="login(form)" novalidate>
            <div class="form-horizontal">

                <div class="form-group" ng-class="{ 'has-success': form.email.$valid && submitted, 'has-error': form.email.$invalid && submitted }">
                    <label class="col-md-2 control-label">Email Address</label>
                    <div class="col-md-4">
                        <input type="email" name="email" class="form-control" ng-model="user.email" required>
                    </div>
                    <div class="col-md-6">
                        <p class="help-block" ng-show="form.email.$error.email && submitted">
                            Email address is not valid.
                        </p>
                        <p class="help-block" ng-show="form.email.$error.required && submitted">
                            Enter your email address.
                        </p>
                    </div>
                </div>

                <div class="form-group" ng-class="{ 'has-success': form.password.$valid && submitted, 'has-error': form.password.$invalid && submitted }">
                    <label class="col-md-2 control-label">Password</label>
                    <div class="col-md-4">
                        <input type="password" name="password" class="form-control" ng-model="user.password" ng-minlength="4" required>
                    </div>
                    <div class="col-md-6">
                        <p class="help-block" ng-show="form.password.$error.required && submitted">
                            Enter your password.
                        </p>
                        <p class="help-block" ng-show="form.password.$error.minlength && submitted">
                            Password is not valid.
                        </p>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-10 col-md-offset-2">
                    <button type="submit" class="btn"
                            ng-class="{'btn-primary': !submitted, 'btn-default': form.$invalid && submitted, 'btn-success': form.$valid && submitted  }">
                        <span class="glyphicon glyphicon-log-in"></span> Log in
                    </button>
                </div>
                <div class="col-md-10 col-md-offset-2 has-error" style="margin-top: 10px">
                    <p class="help-block">{{ errors.other }}</p>
                </div>
            </div>
        </form>
    </div>
</div>

<div class="row">
    <div class="col-sm-12">
        <hr>
        Not registered? <a href="/signup" class="text-center new-account">Sign up</a>.
    </div>
</div>

<script type="text/ng-template" id="myModalContent.html">
    <div class="modal-body" style="padding: 15px 15px 20px 15px">
        <h4 style="font-size: 16px;">{{ msg }}</h4>
    </div>
    <div class="modal-footer" style="margin-top: 0; padding: 15px">
        <div class="pull-left" style="padding-top: 5px;"><small>Not registered? <a href="/signup" class="text-center new-account" ng-click="close()">Sign up</a>.</small></div>
        <button class="btn btn-primary" ng-click="close()">
            <span class="glyphicon glyphicon-ok"></span> OK
        </button>
    </div>
</script>