<div ng-include="'partials/navbar.html'"></div>

<div id="titleRow" class="row">
    <div class="col-md-12">
        <h2>Sign up</h2>
        <hr>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <form role="form" name="form" ng-submit="register(form)" novalidate>
            <div class="form-horizontal" >
                <div class="form-group" ng-class="{ 'has-success': form.name.$valid && submitted, 'has-error': form.name.$invalid && submitted }">
                    <label class="col-md-2 control-label">Name</label>

                    <div class="col-md-4">
                        <input type="text" name="name" class="form-control" ng-model="user.name" required/>
                    </div>
                    <div class="col-md-6">
                        <p class="help-block" ng-show="form.name.$error.required && submitted">
                            Name is required.
                        </p>
                    </div>
                </div>

                <div class="form-group" ng-class="{ 'has-success': form.email.$valid && submitted, 'has-error': form.email.$invalid && submitted }">
                    <label class="col-md-2 control-label">Email Address</label>
                    <div class="col-md-4">
                        <input type="email" name="email" class="form-control" ng-model="user.email"
                               required
                               mongoose-error/>
                    </div>
                    <div class="col-md-6">
                        <p class="help-block" ng-show="form.email.$error.email && submitted">
                            Email address is not valid.
                        </p>
                        <p class="help-block" ng-show="form.email.$error.required && submitted">
                            Email address is required.
                        </p>
                        <p class="help-block" ng-show="form.email.$error.mongoose">
                            {{ errors.email }}
                        </p>
                    </div>
                </div>

                <div class="form-group"
                     ng-class="{ 'has-success': form.password.$valid && submitted, 'has-error': form.password.$invalid && submitted }">
                    <label class="col-md-2 control-label">Password</label>
                    <div class="col-md-4">
                        <input type="password" name="password" class="form-control" ng-model="user.password"
                               ng-minlength="4"
                               required
                               mongoose-error/>
                    </div>
                    <div class="col-md-6">
                        <p class="help-block"
                           ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">
                            Password must contain at least 6 characters.
                        </p>
                        <p class="help-block" ng-show="form.password.$error.mongoose">
                            {{ errors.password }}
                        </p>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 col-md-offset-2">
                    <button class="btn" type="submit"
                            ng-class="{'btn-primary': !submitted, 'btn-default': form.$invalid && submitted, 'btn-success': form.$valid && submitted  }">
                        <span class="glyphicon glyphicon-user"></span> Sign up
                    </button>
                </div>
            </div>

        </form>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <hr>
        Have an account? <a href="/login" class="text-center new-account">Log in</a>.
    </div>
</div>